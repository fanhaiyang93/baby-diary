---
layout: page
title: äº§æ£€æ—¥å†
description: è®°å½•æ¯æ¬¡äº§æ£€çš„è¯¦ç»†ä¿¡æ¯ï¼Œè·Ÿè¸ªå®å®çš„å¥åº·æˆé•¿
icon: ğŸ¥
permalink: /checkups/
---

<!-- äº§æ£€æ¦‚è§ˆå¡ç‰‡ -->
<section class="checkup-overview">
    <div class="overview-grid">
        <!-- ä¸‹æ¬¡äº§æ£€ -->
        <div class="overview-card next-checkup">
            <div class="card-icon">ğŸ“…</div>
            <div class="card-content">
                <h3 class="card-title">ä¸‹æ¬¡äº§æ£€</h3>
                <div class="card-value" id="next-checkup-date">2024å¹´2æœˆ15æ—¥</div>
                <div class="card-subtitle">è¿˜æœ‰ <span id="days-until-next">7</span> å¤©</div>
            </div>
        </div>
        
        <!-- å·²å®Œæˆäº§æ£€ -->
        <div class="overview-card completed-checkups">
            <div class="card-icon">âœ…</div>
            <div class="card-content">
                <h3 class="card-title">å·²å®Œæˆäº§æ£€</h3>
                <div class="card-value" id="completed-count">8</div>
                <div class="card-subtitle">æ¬¡äº§æ£€è®°å½•</div>
            </div>
        </div>
        
        <!-- å½“å‰å­•å‘¨ -->
        <div class="overview-card current-week">
            <div class="card-icon">ğŸ¤±</div>
            <div class="card-content">
                <h3 class="card-title">å½“å‰å­•å‘¨</h3>
                <div class="card-value" id="current-week">28</div>
                <div class="card-subtitle">å‘¨ + <span id="current-days">3</span> å¤©</div>
            </div>
        </div>
        
        <!-- è·ç¦»é¢„äº§æœŸ -->
        <div class="overview-card due-date">
            <div class="card-icon">ğŸ‘¶</div>
            <div class="card-content">
                <h3 class="card-title">è·ç¦»é¢„äº§æœŸ</h3>
                <div class="card-value" id="days-until-due">84</div>
                <div class="card-subtitle">å¤©</div>
            </div>
        </div>
    </div>
</section>

<!-- äº§æ£€æ—¶é—´è½´ -->
<section class="checkup-timeline">
    <div class="timeline-header">
        <h2 class="section-title">äº§æ£€æ—¶é—´è½´</h2>
        <div class="timeline-filters">
            <button class="filter-btn active" data-filter="all">å…¨éƒ¨</button>
            <button class="filter-btn" data-filter="completed">å·²å®Œæˆ</button>
            <button class="filter-btn" data-filter="upcoming">å³å°†åˆ°æ¥</button>
            <button class="filter-btn" data-filter="important">é‡è¦æ£€æŸ¥</button>
        </div>
    </div>
    
    <div class="timeline-container">
        <div class="timeline-line"></div>
        
        <!-- äº§æ£€è®°å½•é¡¹ -->
        <div class="timeline-item completed" data-week="12" data-type="important">
            <div class="timeline-marker completed">
                <span class="marker-icon">âœ…</span>
            </div>
            <div class="timeline-content">
                <div class="timeline-card">
                    <div class="card-header">
                        <h3 class="checkup-title">NTæ£€æŸ¥ + æ—©æœŸå”ç­›</h3>
                        <div class="checkup-meta">
                            <span class="checkup-week">å­•12å‘¨</span>
                            <span class="checkup-date">2023å¹´10æœˆ15æ—¥</span>
                            <span class="checkup-type important">é‡è¦æ£€æŸ¥</span>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="checkup-details">
                            <div class="detail-item">
                                <span class="detail-label">åŒ»é™¢ï¼š</span>
                                <span class="detail-value">å¸‚å¦‡å¹¼ä¿å¥é™¢</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">åŒ»ç”Ÿï¼š</span>
                                <span class="detail-value">å¼ åŒ»ç”Ÿ</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">NTå€¼ï¼š</span>
                                <span class="detail-value">1.2mmï¼ˆæ­£å¸¸ï¼‰</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">ä½“é‡ï¼š</span>
                                <span class="detail-value">58kgï¼ˆ+2kgï¼‰</span>
                            </div>
                        </div>
                        <div class="checkup-notes">
                            <p>å®å®å‘è‚²è‰¯å¥½ï¼ŒNTå€¼åœ¨æ­£å¸¸èŒƒå›´å†…ã€‚åŒ»ç”Ÿå»ºè®®ç»§ç»­è¡¥å……å¶é…¸ï¼Œæ³¨æ„ä¼‘æ¯ã€‚ä¸‹æ¬¡äº§æ£€å®‰æ’åœ¨16å‘¨è¿›è¡Œä¸­æœŸå”ç­›ã€‚</p>
                        </div>
                        <div class="checkup-images">
                            <div class="image-grid">
                                <img src="{{ '/assets/images/checkups/nt-scan-12w.jpg' | relative_url }}" alt="12å‘¨NTæ£€æŸ¥" class="checkup-image" loading="lazy">
                                <img src="{{ '/assets/images/checkups/baby-12w.jpg' | relative_url }}" alt="12å‘¨å®å®ç…§ç‰‡" class="checkup-image" loading="lazy">
                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="checkup-actions">
                            <button class="action-btn" onclick="viewCheckupDetails('checkup-12w')">
                                <span class="btn-icon">ğŸ‘ï¸</span>
                                æŸ¥çœ‹è¯¦æƒ…
                            </button>
                            <button class="action-btn" onclick="editCheckup('checkup-12w')">
                                <span class="btn-icon">âœï¸</span>
                                ç¼–è¾‘
                            </button>
                            <button class="action-btn" onclick="shareCheckup('checkup-12w')">
                                <span class="btn-icon">ğŸ“¤</span>
                                åˆ†äº«
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- æ›´å¤šäº§æ£€è®°å½•... -->
        <div class="timeline-item completed" data-week="16" data-type="routine">
            <div class="timeline-marker completed">
                <span class="marker-icon">âœ…</span>
            </div>
            <div class="timeline-content">
                <div class="timeline-card">
                    <div class="card-header">
                        <h3 class="checkup-title">ä¸­æœŸå”ç­›</h3>
                        <div class="checkup-meta">
                            <span class="checkup-week">å­•16å‘¨</span>
                            <span class="checkup-date">2023å¹´11æœˆ12æ—¥</span>
                            <span class="checkup-type routine">å¸¸è§„æ£€æŸ¥</span>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="checkup-details">
                            <div class="detail-item">
                                <span class="detail-label">åŒ»é™¢ï¼š</span>
                                <span class="detail-value">å¸‚å¦‡å¹¼ä¿å¥é™¢</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">åŒ»ç”Ÿï¼š</span>
                                <span class="detail-value">å¼ åŒ»ç”Ÿ</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">å”ç­›ç»“æœï¼š</span>
                                <span class="detail-value">ä½é£é™©</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">ä½“é‡ï¼š</span>
                                <span class="detail-value">60kgï¼ˆ+4kgï¼‰</span>
                            </div>
                        </div>
                        <div class="checkup-notes">
                            <p>å”ç­›ç»“æœæ˜¾ç¤ºä½é£é™©ï¼Œå®å®å‘è‚²æ­£å¸¸ã€‚å¼€å§‹æ„Ÿå—åˆ°èƒåŠ¨ï¼Œéå¸¸æ¿€åŠ¨ï¼åŒ»ç”Ÿå»ºè®®é€‚å½“è¿åŠ¨ï¼Œæ§åˆ¶ä½“é‡å¢é•¿ã€‚</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- å³å°†åˆ°æ¥çš„äº§æ£€ -->
        <div class="timeline-item upcoming" data-week="32" data-type="important">
            <div class="timeline-marker upcoming">
                <span class="marker-icon">ğŸ“…</span>
            </div>
            <div class="timeline-content">
                <div class="timeline-card upcoming">
                    <div class="card-header">
                        <h3 class="checkup-title">èƒå¿ƒç›‘æŠ¤ + ç”Ÿé•¿å‘è‚²è¯„ä¼°</h3>
                        <div class="checkup-meta">
                            <span class="checkup-week">å­•32å‘¨</span>
                            <span class="checkup-date">2024å¹´2æœˆ15æ—¥</span>
                            <span class="checkup-type important">é‡è¦æ£€æŸ¥</span>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="upcoming-info">
                            <div class="info-item">
                                <span class="info-icon">ğŸ¥</span>
                                <span class="info-text">å¸‚å¦‡å¹¼ä¿å¥é™¢ äº§ç§‘é—¨è¯Š</span>
                            </div>
                            <div class="info-item">
                                <span class="info-icon">ğŸ‘©â€âš•ï¸</span>
                                <span class="info-text">å¼ åŒ»ç”Ÿ</span>
                            </div>
                            <div class="info-item">
                                <span class="info-icon">â°</span>
                                <span class="info-text">ä¸Šåˆ 9:30</span>
                            </div>
                            <div class="info-item">
                                <span class="info-icon">ğŸ“‹</span>
                                <span class="info-text">éœ€è¦ç©ºè…¹ï¼Œå¸¦å¥½äº§æ£€æ‰‹å†Œ</span>
                            </div>
                        </div>
                        <div class="checkup-preparation">
                            <h4 class="prep-title">æ£€æŸ¥å‡†å¤‡ï¼š</h4>
                            <ul class="prep-list">
                                <li>âœ… æå‰é¢„çº¦æŒ‚å·</li>
                                <li>â³ ç©ºè…¹8å°æ—¶ä»¥ä¸Š</li>
                                <li>ğŸ“± è®¾ç½®æé†’é—¹é’Ÿ</li>
                                <li>ğŸ“‹ å‡†å¤‡æ£€æŸ¥æ¸…å•</li>
                            </ul>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="upcoming-actions">
                            <button class="action-btn primary" onclick="setReminder('checkup-32w')">
                                <span class="btn-icon">â°</span>
                                è®¾ç½®æé†’
                            </button>
                            <button class="action-btn" onclick="viewLocation('checkup-32w')">
                                <span class="btn-icon">ğŸ“</span>
                                æŸ¥çœ‹ä½ç½®
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- äº§æ£€ç»Ÿè®¡å›¾è¡¨ -->
<section class="checkup-statistics">
    <h2 class="section-title">äº§æ£€ç»Ÿè®¡</h2>
    <div class="stats-grid">
        <!-- ä½“é‡å˜åŒ–å›¾è¡¨ -->
        <div class="stats-card">
            <h3 class="stats-title">ä½“é‡å˜åŒ–è¶‹åŠ¿</h3>
            <div class="chart-container">
                <canvas id="weightChart" width="400" height="200"></canvas>
            </div>
        </div>
        
        <!-- è¡€å‹å˜åŒ–å›¾è¡¨ -->
        <div class="stats-card">
            <h3 class="stats-title">è¡€å‹å˜åŒ–è¶‹åŠ¿</h3>
            <div class="chart-container">
                <canvas id="bloodPressureChart" width="400" height="200"></canvas>
            </div>
        </div>
    </div>
</section>

<!-- äº§æ£€æé†’è®¾ç½® -->
<section class="checkup-reminders">
    <h2 class="section-title">äº§æ£€æé†’</h2>
    <div class="reminder-card">
        <div class="reminder-header">
            <h3 class="reminder-title">æ™ºèƒ½æé†’è®¾ç½®</h3>
            <div class="reminder-toggle">
                <input type="checkbox" id="reminder-enabled" checked>
                <label for="reminder-enabled" class="toggle-label">å¯ç”¨æé†’</label>
            </div>
        </div>
        <div class="reminder-settings">
            <div class="setting-item">
                <label class="setting-label">æå‰æé†’æ—¶é—´ï¼š</label>
                <select class="setting-select" id="reminder-time">
                    <option value="1">1å¤©å‰</option>
                    <option value="2" selected>2å¤©å‰</option>
                    <option value="3">3å¤©å‰</option>
                    <option value="7">1å‘¨å‰</option>
                </select>
            </div>
            <div class="setting-item">
                <label class="setting-label">æé†’æ–¹å¼ï¼š</label>
                <div class="reminder-methods">
                    <label class="method-option">
                        <input type="checkbox" checked>
                        <span class="method-text">æµè§ˆå™¨é€šçŸ¥</span>
                    </label>
                    <label class="method-option">
                        <input type="checkbox">
                        <span class="method-text">é‚®ä»¶æé†’</span>
                    </label>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- æ·»åŠ æ–°äº§æ£€è®°å½•æŒ‰é’® -->
<div class="floating-action">
    <button class="fab" onclick="addNewCheckup()" title="æ·»åŠ æ–°äº§æ£€è®°å½•">
        <span class="fab-icon">â•</span>
    </button>
</div>

<style>
/* äº§æ£€é¡µé¢æ ·å¼ */
.checkup-overview {
    margin-bottom: 50px;
}

.overview-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
}

.overview-card {
    background: white;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    gap: 20px;
    transition: all 0.3s ease;
    border: 1px solid #f0f0f0;
}

.overview-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 30px rgba(255, 105, 180, 0.15);
}

.card-icon {
    font-size: 2.5rem;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: linear-gradient(135deg, #ff69b4, #ff1493);
    color: white;
    flex-shrink: 0;
}

.card-content {
    flex: 1;
}

.card-title {
    font-size: 0.9rem;
    color: #666;
    margin-bottom: 8px;
    font-weight: 500;
}

.card-value {
    font-size: 2rem;
    font-weight: 700;
    color: #2d3748;
    margin-bottom: 5px;
}

.card-subtitle {
    font-size: 0.8rem;
    color: #999;
}

.checkup-timeline {
    margin-bottom: 50px;
}

.timeline-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 40px;
    flex-wrap: wrap;
    gap: 20px;
}

.section-title {
    font-size: 2rem;
    color: #2d3748;
    font-weight: 700;
    margin: 0;
}

.timeline-filters {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.filter-btn {
    padding: 8px 16px;
    border: 1px solid #ddd;
    background: white;
    color: #666;
    border-radius: 20px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.9rem;
    font-weight: 500;
}

.filter-btn:hover,
.filter-btn.active {
    background: linear-gradient(135deg, #ff69b4, #ff1493);
    color: white;
    border-color: #ff69b4;
}

.timeline-container {
    position: relative;
    padding-left: 40px;
}

.timeline-line {
    position: absolute;
    left: 20px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: linear-gradient(to bottom, #ff69b4, #ff1493);
}

.timeline-item {
    position: relative;
    margin-bottom: 40px;
    opacity: 1;
    transition: all 0.3s ease;
}

.timeline-item.hidden {
    opacity: 0;
    transform: translateY(20px);
    pointer-events: none;
}

.timeline-marker {
    position: absolute;
    left: -30px;
    top: 20px;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    z-index: 2;
}

.timeline-marker.completed {
    background: linear-gradient(135deg, #4ade80, #22c55e);
    color: white;
}

.timeline-marker.upcoming {
    background: linear-gradient(135deg, #fbbf24, #f59e0b);
    color: white;
}

.timeline-content {
    margin-left: 20px;
}

.timeline-card {
    background: white;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    transition: all 0.3s ease;
    border: 1px solid #f0f0f0;
}

.timeline-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 30px rgba(255, 105, 180, 0.15);
}

.timeline-card.upcoming {
    border-left: 4px solid #fbbf24;
}

.card-header {
    padding: 25px 25px 15px;
    border-bottom: 1px solid #f0f0f0;
}

.checkup-title {
    font-size: 1.3rem;
    color: #2d3748;
    margin-bottom: 15px;
    font-weight: 600;
}

.checkup-meta {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
}

.checkup-week,
.checkup-date {
    font-size: 0.9rem;
    color: #666;
    padding: 5px 12px;
    background: #f8f9fa;
    border-radius: 12px;
}

.checkup-type {
    font-size: 0.8rem;
    padding: 5px 12px;
    border-radius: 12px;
    font-weight: 500;
}

.checkup-type.important {
    background: rgba(239, 68, 68, 0.1);
    color: #ef4444;
}

.checkup-type.routine {
    background: rgba(59, 130, 246, 0.1);
    color: #3b82f6;
}

.card-body {
    padding: 25px;
}

.checkup-details {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 20px;
}

.detail-item {
    display: flex;
    align-items: center;
    gap: 8px;
}

.detail-label {
    font-weight: 500;
    color: #666;
    min-width: 60px;
}

.detail-value {
    color: #2d3748;
    font-weight: 500;
}

.checkup-notes {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 20px;
    line-height: 1.6;
    color: #555;
}

.checkup-images {
    margin-bottom: 20px;
}

.image-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
}

.checkup-image {
    width: 100%;
    height: 120px;
    object-fit: cover;
    border-radius: 8px;
    cursor: pointer;
    transition: transform 0.3s ease;
}

.checkup-image:hover {
    transform: scale(1.05);
}

.card-footer {
    padding: 15px 25px 25px;
}

.checkup-actions,
.upcoming-actions {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.action-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 8px 15px;
    border: 1px solid #ddd;
    background: white;
    color: #666;
    border-radius: 20px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.85rem;
    font-weight: 500;
}

.action-btn:hover {
    background: #f8f9fa;
    border-color: #ff69b4;
    color: #ff1493;
}

.action-btn.primary {
    background: linear-gradient(135deg, #ff69b4, #ff1493);
    color: white;
    border-color: #ff69b4;
}

.action-btn.primary:hover {
    background: linear-gradient(135deg, #ff1493, #dc143c);
}

.upcoming-info {
    margin-bottom: 20px;
}

.info-item {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 12px;
    padding: 10px;
    background: #f8f9fa;
    border-radius: 8px;
}

.info-icon {
    font-size: 1.1rem;
    width: 24px;
    text-align: center;
}

.info-text {
    color: #2d3748;
    font-weight: 500;
}

.checkup-preparation {
    background: #fff7ed;
    padding: 20px;
    border-radius: 10px;
    border-left: 4px solid #fbbf24;
}

.prep-title {
    color: #2d3748;
    margin-bottom: 15px;
    font-size: 1rem;
    font-weight: 600;
}

.prep-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.prep-list li {
    margin-bottom: 8px;
    color: #555;
    font-size: 0.9rem;
}

.checkup-statistics {
    margin-bottom: 50px;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 30px;
}

.stats-card {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    border: 1px solid #f0f0f0;
}

.stats-title {
    font-size: 1.2rem;
    color: #2d3748;
    margin-bottom: 20px;
    font-weight: 600;
}

.chart-container {
    position: relative;
    height: 200px;
}

.checkup-reminders {
    margin-bottom: 50px;
}

.reminder-card {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    border: 1px solid #f0f0f0;
}

.reminder-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
    flex-wrap: wrap;
    gap: 15px;
}

.reminder-title {
    font-size: 1.2rem;
    color: #2d3748;
    font-weight: 600;
    margin: 0;
}

.reminder-toggle {
    display: flex;
    align-items: center;
    gap: 10px;
}

.toggle-label {
    font-weight: 500;
    color: #666;
    cursor: pointer;
}

.reminder-settings {
    display: grid;
    gap: 20px;
}

.setting-item {
    display: flex;
    align-items: center;
    gap: 15px;
    flex-wrap: wrap;
}

.setting-label {
    font-weight: 500;
    color: #666;
    min-width: 120px;
}

.setting-select {
    padding: 8px 15px;
    border: 1px solid #ddd;
    border-radius: 8px;
    background: white;
    color: #333;
    font-size: 0.9rem;
}

.reminder-methods {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
}

.method-option {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    font-size: 0.9rem;
    color: #666;
}

.floating-action {
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 1000;
}

.fab {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: linear-gradient(135deg, #ff69b4, #ff1493);
    color: white;
    border: none;
    cursor: pointer;
    box-shadow: 0 8px 25px rgba(255, 105, 180, 0.3);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.fab:hover {
    transform: scale(1.1);
    box-shadow: 0 12px 30px rgba(255, 105, 180, 0.4);
}

.fab-icon {
    font-size: 1.5rem;
    font-weight: bold;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
    .timeline-container {
        padding-left: 30px;
    }
    
    .timeline-marker {
        left: -25px;
        width: 30px;
        height: 30px;
        font-size: 1rem;
    }
    
    .timeline-content {
        margin-left: 15px;
    }
    
    .checkup-details {
        grid-template-columns: 1fr;
    }
    
    .timeline-header {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .stats-grid {
        grid-template-columns: 1fr;
    }
    
    .setting-item {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .setting-label {
        min-width: auto;
    }
}

@media (max-width: 480px) {
    .overview-grid {
        grid-template-columns: 1fr;
    }
    
    .overview-card {
        flex-direction: column;
        text-align: center;
        gap: 15px;
    }
    
    .card-icon {
        width: 50px;
        height: 50px;
        font-size: 2rem;
    }
    
    .card-value {
        font-size: 1.7rem;
    }
    
    .timeline-filters {
        width: 100%;
        justify-content: center;
    }
    
    .filter-btn {
        flex: 1;
        text-align: center;
        min-width: 0;
    }
    
    .checkup-actions,
    .upcoming-actions {
        justify-content: center;
    }
    
    .floating-action {
        bottom: 20px;
        right: 20px;
    }
    
    .fab {
        width: 50px;
        height: 50px;
    }
    
    .fab-icon {
        font-size: 1.3rem;
    }
}
</style>

<script>
// äº§æ£€é¡µé¢JavaScriptåŠŸèƒ½
document.addEventListener('DOMContentLoaded', function() {
    // åˆå§‹åŒ–é¡µé¢
    initCheckupPage();
    
    // ç»‘å®šè¿‡æ»¤å™¨äº‹ä»¶
    bindFilterEvents();
    
    // åˆå§‹åŒ–å›¾è¡¨
    initCharts();
    
    // æ›´æ–°ç»Ÿè®¡æ•°æ®
    updateStatistics();
});

// åˆå§‹åŒ–äº§æ£€é¡µé¢
function initCheckupPage() {
    // è®¡ç®—å¹¶æ›´æ–°å­•æœŸç›¸å…³æ•°æ®
    updatePregnancyData();
    
    // è®¾ç½®å›¾ç‰‡ç‚¹å‡»äº‹ä»¶
    bindImageEvents();
    
    // æ£€æŸ¥æé†’æƒé™
    checkNotificationPermission();
}

// æ›´æ–°å­•æœŸæ•°æ®
function updatePregnancyData() {
    const pregnancyStart = new Date('2023-07-15'); // æ€€å­•å¼€å§‹æ—¥æœŸ
    const dueDate = new Date('2024-04-15'); // é¢„äº§æœŸ
    const today = new Date();
    
    // è®¡ç®—å½“å‰å­•å‘¨
    const daysSinceStart = Math.floor((today - pregnancyStart) / (1000 * 60 * 60 * 24));
    const currentWeek = Math.floor(daysSinceStart / 7);
    const currentDays = daysSinceStart % 7;
    
    // è®¡ç®—è·ç¦»é¢„äº§æœŸå¤©æ•°
    const daysUntilDue = Math.floor((dueDate - today) / (1000 * 60 * 60 * 24));
    
    // æ›´æ–°é¡µé¢æ˜¾ç¤º
    const currentWeekElement = document.getElementById('current-week');
    const currentDaysElement = document.getElementById('current-days');
    const daysUntilDueElement = document.getElementById('days-until-due');
    
    if (currentWeekElement) currentWeekElement.textContent = currentWeek;
    if (currentDaysElement) currentDaysElement.textContent = currentDays;
    if (daysUntilDueElement) daysUntilDueElement.textContent = daysUntilDue;
    
    // è®¡ç®—ä¸‹æ¬¡äº§æ£€å€’è®¡æ—¶
    const nextCheckupDate = new Date('2024-02-15');
    const daysUntilNext = Math.floor((nextCheckupDate - today) / (1000 * 60 * 60 * 24));
    const daysUntilNextElement = document.getElementById('days-until-next');
    if (daysUntilNextElement) daysUntilNextElement.textContent = daysUntilNext;
}

// ç»‘å®šè¿‡æ»¤å™¨äº‹ä»¶
function bindFilterEvents() {
    const filterButtons = document.querySelectorAll('.filter-btn');
    const timelineItems = document.querySelectorAll('.timeline-item');
    
    filterButtons.forEach(button => {
        button.addEventListener('click', function() {
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            filterButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            
            const filter = this.dataset.filter;
            
            // è¿‡æ»¤æ—¶é—´è½´é¡¹ç›®
            timelineItems.forEach(item => {
                let show = true;
                
                switch(filter) {
                    case 'completed':
                        show = item.classList.contains('completed');
                        break;
                    case 'upcoming':
                        show = item.classList.contains('upcoming');
                        break;
                    case 'important':
                        show = item.dataset.type === 'important';
                        break;
                    case 'all':
                    default:
                        show = true;
                        break;
                }
                
                if (show) {
                    item.classList.remove('hidden');
                } else {
                    item.classList.add('hidden');
                }
            });
        });
    });
}

// ç»‘å®šå›¾ç‰‡äº‹ä»¶
function bindImageEvents() {
    const images = document.querySelectorAll('.checkup-image');
    images.forEach(img => {
        img.addEventListener('click', function() {
            // åˆ›å»ºå›¾ç‰‡é¢„è§ˆæ¨¡æ€æ¡†
            showImageModal(this.src, this.alt);
        });
    });
}

// æ˜¾ç¤ºå›¾ç‰‡æ¨¡æ€æ¡†
function showImageModal(src, alt) {
    // åˆ›å»ºæ¨¡æ€æ¡†HTML
    const modal = document.createElement('div');
    modal.className = 'image-modal';
    modal.innerHTML = `
        <div class="modal-backdrop" onclick="closeImageModal()"></div>
        <div class="modal-content">
            <button class="modal-close" onclick="closeImageModal()">Ã—</button>
            <img src="${src}" alt="${alt}" class="modal-image">
            <div class="modal-caption">${alt}</div>
        </div>
    `;
    
    // æ·»åŠ æ ·å¼
    const style = document.createElement('style');
    style.textContent = `
        .image-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-backdrop {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
        }
        .modal-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            background: white;
            border-radius: 10px;
            overflow: hidden;
        }
        .modal-close {
            position: absolute;
            top: 10px;
            right: 15px;
            background: none;
            border: none;
            font-size: 2rem;
            color: white;
            cursor: pointer;
            z-index: 1;
        }
        .modal-image {
            width: 100%;
            height: auto;
            display: block;
        }
        .modal-caption {
            padding: 15px;
            text-align: center;
            color: #333;
            font-weight: 500;
        }
    `;
    
    document.head.appendChild(style);
    document.body.appendChild(modal);
    
    // é˜²æ­¢èƒŒæ™¯æ»šåŠ¨
    document.body.style.overflow = 'hidden';
    
    // è®¾ç½®å…¨å±€å…³é—­å‡½æ•°
    window.closeImageModal = function() {
        document.body.removeChild(modal);
        document.head.removeChild(style);
        document.body.style.overflow = '';
        delete window.closeImageModal;
    };
}

// åˆå§‹åŒ–å›¾è¡¨
function initCharts() {
    // ä½“é‡å˜åŒ–å›¾è¡¨
    const weightCtx = document.getElementById('weightChart');
    if (weightCtx) {
        // è¿™é‡Œå¯ä»¥ä½¿ç”¨Chart.jsæˆ–å…¶ä»–å›¾è¡¨åº“
        // ç®€åŒ–ç‰ˆæœ¬ï¼šç»˜åˆ¶ç®€å•çš„çº¿æ¡å›¾
        drawSimpleChart(weightCtx, {
            labels: ['12å‘¨', '16å‘¨', '20å‘¨', '24å‘¨', '28å‘¨'],
            data: [56, 58, 60, 62, 65],
            color: '#ff69b4',
            title: 'ä½“é‡(kg)'
        });
    }
    
    // è¡€å‹å˜åŒ–å›¾è¡¨
    const bpCtx = document.getElementById('bloodPressureChart');
    if (bpCtx) {
        drawSimpleChart(bpCtx, {
            labels: ['12å‘¨', '16å‘¨', '20å‘¨', '24å‘¨', '28å‘¨'],
            data: [110, 115, 112, 118, 116],
            data2: [70, 75, 72, 78, 76],
            color: '#3b82f6',
            color2: '#ef4444',
            title: 'è¡€å‹(mmHg)'
        });
    }
}

// ç»˜åˆ¶ç®€å•å›¾è¡¨
function drawSimpleChart(canvas, options) {
    const ctx = canvas.getContext('2d');
    const width = canvas.width;
    const height = canvas.height;
    
    // æ¸…ç©ºç”»å¸ƒ
    ctx.clearRect(0, 0, width, height);
    
    // è®¾ç½®æ ·å¼
    ctx.strokeStyle = options.color;
    ctx.lineWidth = 3;
    ctx.lineCap = 'round';
    ctx.lineJoin = 'round';
    
    // è®¡ç®—æ•°æ®ç‚¹ä½ç½®
    const padding = 40;
    const chartWidth = width - padding * 2;
    const chartHeight = height - padding * 2;
    
    const maxValue = Math.max(...options.data, ...(options.data2 || []));
    const minValue = Math.min(...options.data, ...(options.data2 || []));
    const valueRange = maxValue - minValue;
    
    // ç»˜åˆ¶ç¬¬ä¸€æ¡çº¿
    ctx.beginPath();
    options.data.forEach((value, index) => {
        const x = padding + (index / (options.data.length - 1)) * chartWidth;
        const y = padding + chartHeight - ((value - minValue) / valueRange) * chartHeight;
        
        if (index === 0) {
            ctx.moveTo(x, y);
        } else {
            ctx.lineTo(x, y);
        }
        
        // ç»˜åˆ¶æ•°æ®ç‚¹
        ctx.save();
        ctx.fillStyle = options.color;
        ctx.beginPath();
        ctx.arc(x, y, 4, 0, Math.PI * 2);
        ctx.fill();
        ctx.restore();
    });
    ctx.stroke();
    
    // ç»˜åˆ¶ç¬¬äºŒæ¡çº¿ï¼ˆå¦‚æœæœ‰ï¼‰
    if (options.data2) {
        ctx.strokeStyle = options.color2;
        ctx.beginPath();
        options.data2.forEach((value, index) => {
            const x = padding + (index / (options.data2.length - 1)) * chartWidth;
            const y = padding + chartHeight - ((value - minValue) / valueRange) * chartHeight;
            
            if (index === 0) {
                ctx.moveTo(x, y);
            } else {
                ctx.lineTo(x, y);
            }
            
            // ç»˜åˆ¶æ•°æ®ç‚¹
            ctx.save();
            ctx.fillStyle = options.color2;
            ctx.beginPath();
            ctx.arc(x, y, 4, 0, Math.PI * 2);
            ctx.fill();
            ctx.restore();
        });
        ctx.stroke();
    }
}

// æ›´æ–°ç»Ÿè®¡æ•°æ®
function updateStatistics() {
    // ç»Ÿè®¡å·²å®Œæˆçš„äº§æ£€æ¬¡æ•°
    const completedCheckups = document.querySelectorAll('.timeline-item.completed').length;
    const completedCountElement = document.getElementById('completed-count');
    if (completedCountElement) {
        completedCountElement.textContent = completedCheckups;
    }
}

// æ£€æŸ¥é€šçŸ¥æƒé™
function checkNotificationPermission() {
    if ('Notification' in window && Notification.permission === 'default') {
        // å¯ä»¥åœ¨è¿™é‡Œè¯·æ±‚é€šçŸ¥æƒé™
        // Notification.requestPermission();
    }
}

// äº§æ£€ç›¸å…³åŠŸèƒ½å‡½æ•°
function viewCheckupDetails(checkupId) {
    console.log('æŸ¥çœ‹äº§æ£€è¯¦æƒ…:', checkupId);
    // è¿™é‡Œå¯ä»¥å®ç°æŸ¥çœ‹è¯¦æƒ…çš„é€»è¾‘
}

function editCheckup(checkupId) {
    console.log('ç¼–è¾‘äº§æ£€è®°å½•:', checkupId);
    // è¿™é‡Œå¯ä»¥å®ç°ç¼–è¾‘åŠŸèƒ½
}

function shareCheckup(checkupId) {
    console.log('åˆ†äº«äº§æ£€è®°å½•:', checkupId);
    // è¿™é‡Œå¯ä»¥å®ç°åˆ†äº«åŠŸèƒ½
}

function setReminder(checkupId) {
    console.log('è®¾ç½®æé†’:', checkupId);
    // è¿™é‡Œå¯ä»¥å®ç°è®¾ç½®æé†’åŠŸèƒ½
}

function viewLocation(checkupId) {
    console.log('æŸ¥çœ‹ä½ç½®:', checkupId);
    // è¿™é‡Œå¯ä»¥å®ç°æŸ¥çœ‹ä½ç½®åŠŸèƒ½
}

function addNewCheckup() {
    console.log('æ·»åŠ æ–°äº§æ£€è®°å½•');
    // è¿™é‡Œå¯ä»¥å®ç°æ·»åŠ æ–°è®°å½•çš„åŠŸèƒ½
}
</script>