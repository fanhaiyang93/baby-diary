---
layout: page
title: ç…§ç‰‡ç›¸å†Œ
description: è®°å½•å­•æœŸçš„ç¾å¥½ç¬é—´ï¼Œçè—æ¯ä¸€ä¸ªæ¸©é¦¨æ—¶åˆ»
icon: ğŸ“¸
permalink: /photos/
---

<!-- ç›¸å†Œæ¦‚è§ˆ -->
<section class="photos-overview">
    <div class="overview-stats">
        <div class="stat-card">
            <div class="stat-icon">ğŸ“·</div>
            <div class="stat-content">
                <div class="stat-number" id="total-photos">128</div>
                <div class="stat-label">çè´µç…§ç‰‡</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">ğŸ“</div>
            <div class="stat-content">
                <div class="stat-number" id="total-albums">8</div>
                <div class="stat-label">ç›¸å†Œåˆ†ç±»</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">â¤ï¸</div>
            <div class="stat-content">
                <div class="stat-number" id="favorite-photos">25</div>
                <div class="stat-label">æœ€çˆ±ç…§ç‰‡</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">ğŸ“…</div>
            <div class="stat-content">
                <div class="stat-number" id="photo-days">45</div>
                <div class="stat-label">æ‹ç…§å¤©æ•°</div>
            </div>
        </div>
    </div>
</section>

<!-- ç›¸å†Œåˆ†ç±»å¯¼èˆª -->
<section class="album-categories">
    <div class="category-container">
        <div class="category-tabs">
            <button class="category-tab active" data-category="all">
                <span class="tab-icon">ğŸŒŸ</span>
                <span class="tab-text">å…¨éƒ¨ç…§ç‰‡</span>
                <span class="tab-count">128</span>
            </button>
            
            <button class="category-tab" data-category="belly">
                <span class="tab-icon">ğŸ¤±</span>
                <span class="tab-text">å­•è‚šå†™çœŸ</span>
                <span class="tab-count">32</span>
            </button>
            
            <button class="category-tab" data-category="ultrasound">
                <span class="tab-icon">ğŸ‘¶</span>
                <span class="tab-text">Bè¶…ç…§ç‰‡</span>
                <span class="tab-count">15</span>
            </button>
            
            <button class="category-tab" data-category="daily">
                <span class="tab-icon">ğŸ“±</span>
                <span class="tab-text">æ—¥å¸¸è®°å½•</span>
                <span class="tab-count">48</span>
            </button>
            
            <button class="category-tab" data-category="preparation">
                <span class="tab-icon">ğŸ›ï¸</span>
                <span class="tab-text">å‡†å¤‡ç”¨å“</span>
                <span class="tab-count">18</span>
            </button>
            
            <button class="category-tab" data-category="family">
                <span class="tab-icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§</span>
                <span class="tab-text">å®¶åº­åˆå½±</span>
                <span class="tab-count">15</span>
            </button>
        </div>
    </div>
</section>

<!-- ç…§ç‰‡ç­›é€‰å’Œæ’åº -->
<section class="photo-controls">
    <div class="controls-container">
        <div class="filter-group">
            <label class="filter-label">æ—¶é—´ç­›é€‰ï¼š</label>
            <select class="filter-select" id="time-filter">
                <option value="all">å…¨éƒ¨æ—¶é—´</option>
                <option value="recent">æœ€è¿‘ä¸€å‘¨</option>
                <option value="month">æœ€è¿‘ä¸€æœˆ</option>
                <option value="trimester1">å­•æ—©æœŸ</option>
                <option value="trimester2">å­•ä¸­æœŸ</option>
                <option value="trimester3">å­•æ™šæœŸ</option>
            </select>
        </div>
        
        <div class="filter-group">
            <label class="filter-label">æ’åºæ–¹å¼ï¼š</label>
            <select class="filter-select" id="sort-filter">
                <option value="newest">æœ€æ–°ä¼˜å…ˆ</option>
                <option value="oldest">æœ€æ—©ä¼˜å…ˆ</option>
                <option value="favorites">æœ€çˆ±ä¼˜å…ˆ</option>
                <option value="week">æŒ‰å­•å‘¨æ’åº</option>
            </select>
        </div>
        
        <div class="view-controls">
            <button class="view-btn active" data-view="grid" title="ç½‘æ ¼è§†å›¾">
                <span class="view-icon">âŠ</span>
            </button>
            <button class="view-btn" data-view="list" title="åˆ—è¡¨è§†å›¾">
                <span class="view-icon">â˜°</span>
            </button>
            <button class="view-btn" data-view="timeline" title="æ—¶é—´è½´è§†å›¾">
                <span class="view-icon">ğŸ“…</span>
            </button>
        </div>
        
        <div class="search-box">
            <input type="text" id="photo-search" placeholder="æœç´¢ç…§ç‰‡..." class="search-input">
            <button class="search-btn" onclick="searchPhotos()">
                <span class="search-icon">ğŸ”</span>
            </button>
        </div>
    </div>
</section>

<!-- ç…§ç‰‡ç½‘æ ¼ -->
<section class="photos-grid" id="photos-container">
    <div class="grid-container">
        
        <!-- å­•è‚šå†™çœŸç…§ç‰‡ -->
        <div class="photo-item belly favorite" data-week="12" data-date="2023-10-15" data-category="belly">
            <div class="photo-wrapper">
                <img src="{{ '/assets/images/photos/belly-12w.jpg' | relative_url }}" alt="12å‘¨å­•è‚šç…§" class="photo-image" loading="lazy">
                <div class="photo-overlay">
                    <div class="photo-actions">
                        <button class="action-btn favorite-btn active" onclick="toggleFavorite(this)" title="æ”¶è—">
                            <span class="action-icon">â¤ï¸</span>
                        </button>
                        <button class="action-btn share-btn" onclick="sharePhoto(this)" title="åˆ†äº«">
                            <span class="action-icon">ğŸ“¤</span>
                        </button>
                        <button class="action-btn download-btn" onclick="downloadPhoto(this)" title="ä¸‹è½½">
                            <span class="action-icon">â¬‡ï¸</span>
                        </button>
                    </div>
                </div>
                <div class="photo-badge week-badge">12å‘¨</div>
                <div class="photo-badge favorite-badge">â¤ï¸</div>
            </div>
            <div class="photo-info">
                <div class="photo-title">ç¬¬ä¸€æ¬¡å­•è‚šç…§</div>
                <div class="photo-date">2023å¹´10æœˆ15æ—¥</div>
                <div class="photo-description">è™½ç„¶è‚šå­è¿˜ä¸å¤ªæ˜æ˜¾ï¼Œä½†è¿™æ˜¯æˆ‘ä»¬ç¬¬ä¸€æ¬¡æ­£å¼æ‹å­•è‚šç…§ï¼Œå¾ˆæœ‰çºªå¿µæ„ä¹‰ï¼</div>
                <div class="photo-tags">
                    <span class="tag">å­•è‚šå†™çœŸ</span>
                    <span class="tag">ç¬¬ä¸€æ¬¡</span>
                    <span class="tag">çºªå¿µ</span>
                </div>
            </div>
        </div>
        
        <!-- Bè¶…ç…§ç‰‡ -->
        <div class="photo-item ultrasound" data-week="8" data-date="2023-09-09" data-category="ultrasound">
            <div class="photo-wrapper">
                <img src="{{ '/assets/images/photos/ultrasound-8w.jpg' | relative_url }}" alt="8å‘¨Bè¶…ç…§" class="photo-image" loading="lazy">
                <div class="photo-overlay">
                    <div class="photo-actions">
                        <button class="action-btn favorite-btn" onclick="toggleFavorite(this)" title="æ”¶è—">
                            <span class="action-icon">ğŸ¤</span>
                        </button>
                        <button class="action-btn share-btn" onclick="sharePhoto(this)" title="åˆ†äº«">
                            <span class="action-icon">ğŸ“¤</span>
                        </button>
                        <button class="action-btn download-btn" onclick="downloadPhoto(this)" title="ä¸‹è½½">
                            <span class="action-icon">â¬‡ï¸</span>
                        </button>
                    </div>
                </div>
                <div class="photo-badge week-badge">8å‘¨</div>
            </div>
            <div class="photo-info">
                <div class="photo-title">ç¬¬ä¸€æ¬¡Bè¶…</div>
                <div class="photo-date">2023å¹´9æœˆ9æ—¥</div>
                <div class="photo-description">ç¬¬ä¸€æ¬¡çœ‹åˆ°å®å®çš„æ¨¡æ ·ï¼Œè™½ç„¶è¿˜å¾ˆå°ï¼Œä½†å·²ç»èƒ½çœ‹åˆ°èƒå¿ƒäº†ï¼</div>
                <div class="photo-tags">
                    <span class="tag">Bè¶…</span>
                    <span class="tag">èƒå¿ƒ</span>
                    <span class="tag">ç¬¬ä¸€æ¬¡</span>
                </div>
            </div>
        </div>
        
        <!-- æ—¥å¸¸è®°å½• -->
        <div class="photo-item daily" data-week="16" data-date="2023-11-12" data-category="daily">
            <div class="photo-wrapper">
                <img src="{{ '/assets/images/photos/daily-food.jpg' | relative_url }}" alt="å­•æœŸè¥å…»é¤" class="photo-image" loading="lazy">
                <div class="photo-overlay">
                    <div class="photo-actions">
                        <button class="action-btn favorite-btn" onclick="toggleFavorite(this)" title="æ”¶è—">
                            <span class="action-icon">ğŸ¤</span>
                        </button>
                        <button class="action-btn share-btn" onclick="sharePhoto(this)" title="åˆ†äº«">
                            <span class="action-icon">ğŸ“¤</span>
                        </button>
                        <button class="action-btn download-btn" onclick="downloadPhoto(this)" title="ä¸‹è½½">
                            <span class="action-icon">â¬‡ï¸</span>
                        </button>
                    </div>
                </div>
                <div class="photo-badge week-badge">16å‘¨</div>
            </div>
            <div class="photo-info">
                <div class="photo-title">ä»Šæ—¥è¥å…»é¤</div>
                <div class="photo-date">2023å¹´11æœˆ12æ—¥</div>
                <div class="photo-description">è€å…¬ç‰¹æ„ä¸ºæˆ‘å‡†å¤‡çš„è¥å…»é¤ï¼Œæœ‰é±¼æœ‰èœæœ‰æ±¤ï¼Œè¥å…»å‡è¡¡åˆç¾å‘³ï¼</div>
                <div class="photo-tags">
                    <span class="tag">è¥å…»é¤</span>
                    <span class="tag">æ—¥å¸¸</span>
                    <span class="tag">çˆ±å¿ƒ</span>
                </div>
            </div>
        </div>
        
        <!-- å››ç»´å½©è¶… -->
        <div class="photo-item ultrasound favorite" data-week="20" data-date="2023-12-09" data-category="ultrasound">
            <div class="photo-wrapper">
                <img src="{{ '/assets/images/photos/4d-ultrasound.jpg' | relative_url }}" alt="å››ç»´å½©è¶…" class="photo-image" loading="lazy">
                <div class="photo-overlay">
                    <div class="photo-actions">
                        <button class="action-btn favorite-btn active" onclick="toggleFavorite(this)" title="æ”¶è—">
                            <span class="action-icon">â¤ï¸</span>
                        </button>
                        <button class="action-btn share-btn" onclick="sharePhoto(this)" title="åˆ†äº«">
                            <span class="action-icon">ğŸ“¤</span>
                        </button>
                        <button class="action-btn download-btn" onclick="downloadPhoto(this)" title="ä¸‹è½½">
                            <span class="action-icon">â¬‡ï¸</span>
                        </button>
                    </div>
                </div>
                <div class="photo-badge week-badge">20å‘¨</div>
                <div class="photo-badge favorite-badge">â¤ï¸</div>
                <div class="photo-badge special-badge">ğŸ‘§</div>
            </div>
            <div class="photo-info">
                <div class="photo-title">å››ç»´å½©è¶… - å°å…¬ä¸»</div>
                <div class="photo-date">2023å¹´12æœˆ9æ—¥</div>
                <div class="photo-description">å››ç»´å½©è¶…ç¡®è®¤æ˜¯ä¸ªå°å…¬ä¸»ï¼çœ‹åˆ°å¥¹çš„å°è„¸è›‹ï¼Œæ¿€åŠ¨å¾—çœ¼æ³ªéƒ½å‡ºæ¥äº†ã€‚</div>
                <div class="photo-tags">
                    <span class="tag">å››ç»´å½©è¶…</span>
                    <span class="tag">æ€§åˆ«ç¡®è®¤</span>
                    <span class="tag">å°å…¬ä¸»</span>
                </div>
            </div>
        </div>
        
        <!-- å­•æœŸå†™çœŸ -->
        <div class="photo-item belly favorite" data-week="26" data-date="2024-01-20" data-category="belly">
            <div class="photo-wrapper">
                <img src="{{ '/assets/images/photos/maternity-shoot.jpg' | relative_url }}" alt="å­•æœŸå†™çœŸ" class="photo-image" loading="lazy">
                <div class="photo-overlay">
                    <div class="photo-actions">
                        <button class="action-btn favorite-btn active" onclick="toggleFavorite(this)" title="æ”¶è—">
                            <span class="action-icon">â¤ï¸</span>
                        </button>
                        <button class="action-btn share-btn" onclick="sharePhoto(this)" title="åˆ†äº«">
                            <span class="action-icon">ğŸ“¤</span>
                        </button>
                        <button class="action-btn download-btn" onclick="downloadPhoto(this)" title="ä¸‹è½½">
                            <span class="action-icon">â¬‡ï¸</span>
                        </button>
                    </div>
                </div>
                <div class="photo-badge week-badge">26å‘¨</div>
                <div class="photo-badge favorite-badge">â¤ï¸</div>
            </div>
            <div class="photo-info">
                <div class="photo-title">ä¸“ä¸šå­•æœŸå†™çœŸ</div>
                <div class="photo-date">2024å¹´1æœˆ20æ—¥</div>
                <div class="photo-description">åœ¨æ‘„å½±å·¥ä½œå®¤æ‹çš„ä¸“ä¸šå­•æœŸå†™çœŸï¼Œè®°å½•ä¸‹è¿™ä¸ªç‰¹æ®Šè€Œç¾å¥½çš„æ—¶åˆ»ã€‚</div>
                <div class="photo-tags">
                    <span class="tag">å­•æœŸå†™çœŸ</span>
                    <span class="tag">ä¸“ä¸šæ‹æ‘„</span>
                    <span class="tag">çºªå¿µ</span>
                </div>
            </div>
        </div>
        
        <!-- å®å®ç”¨å“ -->
        <div class="photo-item preparation" data-week="30" data-date="2024-02-10" data-category="preparation">
            <div class="photo-wrapper">
                <img src="{{ '/assets/images/photos/baby-clothes.jpg' | relative_url }}" alt="å®å®è¡£æœ" class="photo-image" loading="lazy">
                <div class="photo-overlay">
                    <div class="photo-actions">
                        <button class="action-btn favorite-btn" onclick="toggleFavorite(this)" title="æ”¶è—">
                            <span class="action-icon">ğŸ¤</span>
                        </button>
                        <button class="action-btn share-btn" onclick="sharePhoto(this)" title="åˆ†äº«">
                            <span class="action-icon">ğŸ“¤</span>
                        </button>
                        <button class="action-btn download-btn" onclick="downloadPhoto(this)" title="ä¸‹è½½">
                            <span class="action-icon">â¬‡ï¸</span>
                        </button>
                    </div>
                </div>
                <div class="photo-badge week-badge">30å‘¨</div>
            </div>
            <div class="photo-info">
                <div class="photo-title">å°å…¬ä¸»çš„è¡£æœ</div>
                <div class="photo-date">2024å¹´2æœˆ10æ—¥</div>
                <div class="photo-description">ç»™å°å…¬ä¸»ä¹°çš„ç¬¬ä¸€æ‰¹è¡£æœï¼Œæ¯ä¸€ä»¶éƒ½æ˜¯ç²¾å¿ƒæŒ‘é€‰çš„ï¼Œå¤ªå¯çˆ±äº†ï¼</div>
                <div class="photo-tags">
                    <span class="tag">å®å®è¡£æœ</span>
                    <span class="tag">è´­ç‰©</span>
                    <span class="tag">å‡†å¤‡</span>
                </div>
            </div>
        </div>
        
        <!-- å®¶åº­åˆå½± -->
        <div class="photo-item family favorite" data-week="24" data-date="2024-01-01" data-category="family">
            <div class="photo-wrapper">
                <img src="{{ '/assets/images/photos/family-new-year.jpg' | relative_url }}" alt="æ–°å¹´å®¶åº­åˆå½±" class="photo-image" loading="lazy">
                <div class="photo-overlay">
                    <div class="photo-actions">
                        <button class="action-btn favorite-btn active" onclick="toggleFavorite(this)" title="æ”¶è—">
                            <span class="action-icon">â¤ï¸</span>
                        </button>
                        <button class="action-btn share-btn" onclick="sharePhoto(this)" title="åˆ†äº«">
                            <span class="action-icon">ğŸ“¤</span>
                        </button>
                        <button class="action-btn download-btn" onclick="downloadPhoto(this)" title="ä¸‹è½½">
                            <span class="action-icon">â¬‡ï¸</span>
                        </button>
                    </div>
                </div>
                <div class="photo-badge week-badge">24å‘¨</div>
                <div class="photo-badge favorite-badge">â¤ï¸</div>
            </div>
            <div class="photo-info">
                <div class="photo-title">æ–°å¹´å®¶åº­åˆå½±</div>
                <div class="photo-date">2024å¹´1æœˆ1æ—¥</div>
                <div class="photo-description">2024å¹´çš„ç¬¬ä¸€å¼ å®¶åº­åˆå½±ï¼Œè‚šå­é‡Œçš„å°å…¬ä¸»ä¹Ÿä¸€èµ·è¿æ¥æ–°å¹´ï¼</div>
                <div class="photo-tags">
                    <span class="tag">å®¶åº­åˆå½±</span>
                    <span class="tag">æ–°å¹´</span>
                    <span class="tag">ä¸‰å£ä¹‹å®¶</span>
                </div>
            </div>
        </div>
        
        <!-- æ›´å¤šç…§ç‰‡é¡¹ç›®... -->
        <div class="photo-item daily" data-week="18" data-date="2023-11-25" data-category="daily">
            <div class="photo-wrapper">
                <img src="{{ '/assets/images/photos/first-kick.jpg' | relative_url }}" alt="ç¬¬ä¸€æ¬¡èƒåŠ¨" class="photo-image" loading="lazy">
                <div class="photo-overlay">
                    <div class="photo-actions">
                        <button class="action-btn favorite-btn" onclick="toggleFavorite(this)" title="æ”¶è—">
                            <span class="action-icon">ğŸ¤</span>
                        </button>
                        <button class="action-btn share-btn" onclick="sharePhoto(this)" title="åˆ†äº«">
                            <span class="action-icon">ğŸ“¤</span>
                        </button>
                        <button class="action-btn download-btn" onclick="downloadPhoto(this)" title="ä¸‹è½½">
                            <span class="action-icon">â¬‡ï¸</span>
                        </button>
                    </div>
                </div>
                <div class="photo-badge week-badge">18å‘¨</div>
                <div class="photo-badge special-badge">ğŸ’“</div>
            </div>
            <div class="photo-info">
                <div class="photo-title">è®°å½•ç¬¬ä¸€æ¬¡èƒåŠ¨</div>
                <div class="photo-date">2023å¹´11æœˆ25æ—¥</div>
                <div class="photo-description">ä»Šå¤©ç¬¬ä¸€æ¬¡æ„Ÿå—åˆ°èƒåŠ¨ï¼Œèµ¶ç´§æ‹ç…§è®°å½•ä¸‹è¿™ä¸ªç¥å¥‡çš„æ—¶åˆ»ï¼</div>
                <div class="photo-tags">
                    <span class="tag">èƒåŠ¨</span>
                    <span class="tag">ç¬¬ä¸€æ¬¡</span>
                    <span class="tag">ç¥å¥‡</span>
                </div>
            </div>
        </div>
        
    </div>
    
    <!-- åŠ è½½æ›´å¤šæŒ‰é’® -->
    <div class="load-more-container">
        <button class="load-more-btn" onclick="loadMorePhotos()">
            <span class="load-icon">â¬‡ï¸</span>
            <span class="load-text">åŠ è½½æ›´å¤šç…§ç‰‡</span>
        </button>
    </div>
</section>

<!-- ç…§ç‰‡ä¸Šä¼ åŒºåŸŸ -->
<section class="photo-upload" id="upload-section">
    <div class="upload-container">
        <div class="upload-header">
            <h3 class="upload-title">æ·»åŠ æ–°ç…§ç‰‡</h3>
            <button class="upload-close" onclick="closeUpload()">
                <span class="close-icon">Ã—</span>
            </button>
        </div>
        
        <div class="upload-area" id="upload-area">
            <div class="upload-content">
                <div class="upload-icon">ğŸ“¸</div>
                <div class="upload-text">æ‹–æ‹½ç…§ç‰‡åˆ°è¿™é‡Œæˆ–ç‚¹å‡»é€‰æ‹©</div>
                <div class="upload-hint">æ”¯æŒ JPGã€PNGã€GIF æ ¼å¼ï¼Œæœ€å¤§ 10MB</div>
                <input type="file" id="photo-input" accept="image/*" multiple style="display: none;">
                <button class="upload-btn" onclick="selectPhotos()">é€‰æ‹©ç…§ç‰‡</button>
            </div>
        </div>
        
        <div class="upload-form" id="upload-form" style="display: none;">
            <div class="form-group">
                <label class="form-label">ç…§ç‰‡æ ‡é¢˜ï¼š</label>
                <input type="text" id="photo-title" class="form-input" placeholder="ä¸ºè¿™å¼ ç…§ç‰‡èµ·ä¸ªæ ‡é¢˜...">
            </div>
            
            <div class="form-group">
                <label class="form-label">ç…§ç‰‡æè¿°ï¼š</label>
                <textarea id="photo-description" class="form-textarea" placeholder="æè¿°ä¸€ä¸‹è¿™å¼ ç…§ç‰‡çš„æ•…äº‹..."></textarea>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">æ‹æ‘„æ—¥æœŸï¼š</label>
                    <input type="date" id="photo-date" class="form-input">
                </div>
                
                <div class="form-group">
                    <label class="form-label">å­•å‘¨ï¼š</label>
                    <input type="number" id="photo-week" class="form-input" min="1" max="42" placeholder="å‘¨">
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">ç…§ç‰‡åˆ†ç±»ï¼š</label>
                <select id="photo-category" class="form-select">
                    <option value="daily">æ—¥å¸¸è®°å½•</option>
                    <option value="belly">å­•è‚šå†™çœŸ</option>
                    <option value="ultrasound">Bè¶…ç…§ç‰‡</option>
                    <option value="preparation">å‡†å¤‡ç”¨å“</option>
                    <option value="family">å®¶åº­åˆå½±</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label">æ ‡ç­¾ï¼š</label>
                <input type="text" id="photo-tags" class="form-input" placeholder="ç”¨é€—å·åˆ†éš”å¤šä¸ªæ ‡ç­¾...">
            </div>
            
            <div class="form-actions">
                <button class="form-btn cancel" onclick="cancelUpload()">å–æ¶ˆ</button>
                <button class="form-btn submit" onclick="submitPhoto()">ä¸Šä¼ ç…§ç‰‡</button>
            </div>
        </div>
    </div>
</section>

<!-- æµ®åŠ¨æ“ä½œæŒ‰é’® -->
<div class="floating-actions">
    <div class="fab-group">
        <button class="fab secondary" onclick="showFavorites()" title="æŸ¥çœ‹æ”¶è—">
            <span class="fab-icon">â¤ï¸</span>
        </button>
        <button class="fab secondary" onclick="createAlbum()" title="åˆ›å»ºç›¸å†Œ">
            <span class="fab-icon">ğŸ“</span>
        </button>
        <button class="fab primary" onclick="showUpload()" title="ä¸Šä¼ ç…§ç‰‡">
            <span class="fab-icon">ğŸ“¸</span>
        </button>
    </div>
</div>

<style>
/* ç…§ç‰‡ç›¸å†Œé¡µé¢æ ·å¼ */
.photos-overview {
    margin-bottom: 40px;
}

.overview-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
}

.stat-card {
    background: white;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    gap: 20px;
    transition: all 0.3s ease;
    border: 1px solid #f0f0f0;
}

.stat-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 30px rgba(255, 105, 180, 0.15);
}

.stat-icon {
    font-size: 2.5rem;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: linear-gradient(135deg, #ff69b4, #ff1493);
    color: white;
    flex-shrink: 0;
}

.stat-content {
    flex: 1;
}

.stat-number {
    font-size: 2.2rem;
    font-weight: 700;
    color: #2d3748;
    margin-bottom: 5px;
}

.stat-label {
    font-size: 0.9rem;
    color: #666;
    font-weight: 500;
}

.album-categories {
    margin-bottom: 30px;
}

.category-container {
    background: white;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    border: 1px solid #f0f0f0;
    overflow: hidden;
}

.category-tabs {
    display: flex;
    overflow-x: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;
}

.category-tabs::-webkit-scrollbar {
    display: none;
}

.category-tab {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 20px 25px;
    background: white;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
    white-space: nowrap;
    border-bottom: 3px solid transparent;
    min-width: 150px;
    justify-content: center;
}

.category-tab:hover,
.category-tab.active {
    background: linear-gradient(135deg, rgba(255, 105, 180, 0.1), rgba(255, 20, 147, 0.1));
    border-bottom-color: #ff69b4;
}

.tab-icon {
    font-size: 1.2rem;
}

.tab-text {
    font-weight: 500;
    color: #2d3748;
}

.tab-count {
    background: #f8f9fa;
    color: #666;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 0.8rem;
    font-weight: 500;
}

.category-tab.active .tab-count {
    background: rgba(255, 105, 180, 0.2);
    color: #ff1493;
}

.photo-controls {
    margin-bottom: 30px;
    background: white;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    border: 1px solid #f0f0f0;
}

.controls-container {
    display: flex;
    align-items: center;
    gap: 20px;
    flex-wrap: wrap;
}

.filter-group {
    display: flex;
    align-items: center;
    gap: 10px;
}

.filter-label {
    font-weight: 500;
    color: #2d3748;
    white-space: nowrap;
}

.filter-select {
    padding: 8px 12px;
    border: 1px solid #ddd;
    border-radius: 8px;
    background: white;
    color: #2d3748;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.filter-select:focus {
    outline: none;
    border-color: #ff69b4;
    box-shadow: 0 0 0 3px rgba(255, 105, 180, 0.1);
}

.view-controls {
    display: flex;
    gap: 5px;
    background: #f8f9fa;
    padding: 5px;
    border-radius: 10px;
}

.view-btn {
    padding: 8px 12px;
    border: none;
    background: transparent;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s ease;
    color: #666;
}

.view-btn:hover,
.view-btn.active {
    background: white;
    color: #ff1493;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.view-icon {
    font-size: 1rem;
    font-weight: bold;
}

.search-box {
    display: flex;
    align-items: center;
    background: #f8f9fa;
    border-radius: 25px;
    padding: 5px;
    margin-left: auto;
}

.search-input {
    border: none;
    background: transparent;
    padding: 8px 15px;
    outline: none;
    color: #2d3748;
    width: 200px;
    font-size: 0.9rem;
}

.search-input::placeholder {
    color: #999;
}

.search-btn {
    background: linear-gradient(135deg, #ff69b4, #ff1493);
    border: none;
    border-radius: 50%;
    width: 35px;
    height: 35px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    color: white;
}

.search-btn:hover {
    transform: scale(1.05);
}

.search-icon {
    font-size: 0.9rem;
}

.photos-grid {
    margin-bottom: 50px;
}

.grid-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 25px;
    margin-bottom: 40px;
}

.photo-item {
    background: white;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    transition: all 0.3s ease;
    border: 1px solid #f0f0f0;
}

.photo-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 35px rgba(255, 105, 180, 0.15);
}

.photo-wrapper {
    position: relative;
    overflow: hidden;
}

.photo-image {
    width: 100%;
    height: 250px;
    object-fit: cover;
    transition: transform 0.3s ease;
    cursor: pointer;
}

.photo-item:hover .photo-image {
    transform: scale(1.05);
}

.photo-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.photo-item:hover .photo-overlay {
    opacity: 1;
}

.photo-actions {
    display: flex;
    gap: 15px;
}

.action-btn {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    border: none;
    background: rgba(255, 255, 255, 0.9);
    color: #666;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
}

.action-btn:hover {
    background: white;
    transform: scale(1.1);
}

.action-btn.active {
    background: #ff1493;
    color: white;
}

.action-icon {
    font-size: 1.1rem;
}

.photo-badge {
    position: absolute;
    padding: 5px 10px;
    border-radius: 12px;
    font-size: 0.8rem;
    font-weight: 500;
    color: white;
    backdrop-filter: blur(10px);
}

.week-badge {
    top: 15px;
    left: 15px;
    background: rgba(59, 130, 246, 0.8);
}

.favorite-badge {
    top: 15px;
    right: 15px;
    background: rgba(239, 68, 68, 0.8);
    font-size: 1rem;
}

.special-badge {
    bottom: 15px;
    right: 15px;
    background: rgba(251, 191, 36, 0.8);
    font-size: 1rem;
}

.photo-info {
    padding: 20px;
}

.photo-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: #2d3748;
    margin-bottom: 8px;
    line-height: 1.3;
}

.photo-date {
    font-size: 0.9rem;
    color: #666;
    margin-bottom: 12px;
}

.photo-description {
    color: #555;
    line-height: 1.6;
    margin-bottom: 15px;
    font-size: 0.9rem;
}

.photo-tags {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
}

.tag {
    background: rgba(255, 105, 180, 0.1);
    color: #ff1493;
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 500;
}

.load-more-container {
    text-align: center;
    margin-top: 40px;
}

.load-more-btn {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 15px 30px;
    background: linear-gradient(135deg, #ff69b4, #ff1493);
    color: white;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
    box-shadow: 0 8px 25px rgba(255, 105, 180, 0.3);
}

.load-more-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 30px rgba(255, 105, 180, 0.4);
}

.load-icon {
    font-size: 1.1rem;
}

.photo-upload {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    z-index: 10000;
    display: none;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

.upload-container {
    background: white;
    border-radius: 20px;
    max-width: 600px;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
}

.upload-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 25px 30px;
    border-bottom: 1px solid #f0f0f0;
}

.upload-title {
    font-size: 1.3rem;
    font-weight: 600;
    color: #2d3748;
    margin: 0;
}

.upload-close {
    background: none;
    border: none;
    font-size: 1.5rem;
    color: #666;
    cursor: pointer;
    padding: 5px;
    border-radius: 50%;
    transition: all 0.3s ease;
}

.upload-close:hover {
    background: #f8f9fa;
    color: #333;
}

.upload-area {
    padding: 40px 30px;
    text-align: center;
    border: 2px dashed #ddd;
    margin: 30px;
    border-radius: 15px;
    transition: all 0.3s ease;
    cursor: pointer;
}

.upload-area:hover,
.upload-area.dragover {
    border-color: #ff69b4;
    background: rgba(255, 105, 180, 0.05);
}

.upload-icon {
    font-size: 3rem;
    margin-bottom: 15px;
    color: #999;
}

.upload-text {
    font-size: 1.1rem;
    color: #2d3748;
    margin-bottom: 8px;
    font-weight: 500;
}

.upload-hint {
    font-size: 0.9rem;
    color: #666;
    margin-bottom: 20px;
}

.upload-btn {
    background: linear-gradient(135deg, #ff69b4, #ff1493);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
}

.upload-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(255, 105, 180, 0.3);
}

.upload-form {
    padding: 30px;
}

.form-group {
    margin-bottom: 20px;
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.form-label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: #2d3748;
}

.form-input,
.form-textarea,
.form-select {
    width: 100%;
    padding: 12px 15px;
    border: 1px solid #ddd;
    border-radius: 10px;
    font-size: 0.9rem;
    transition: all 0.3s ease;
    background: white;
    color: #2d3748;
}

.form-input:focus,
.form-textarea:focus,
.form-select:focus {
    outline: none;
    border-color: #ff69b4;
    box-shadow: 0 0 0 3px rgba(255, 105, 180, 0.1);
}

.form-textarea {
    resize: vertical;
    min-height: 80px;
}

.form-actions {
    display: flex;
    gap: 15px;
    justify-content: flex-end;
    margin-top: 30px;
    padding-top: 20px;
    border-top: 1px solid #f0f0f0;
}

.form-btn {
    padding: 12px 25px;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
    min-width: 100px;
}

.form-btn.cancel {
    background: #f8f9fa;
    color: #666;
    border: 1px solid #ddd;
}

.form-btn.cancel:hover {
    background: #e9ecef;
    color: #333;
}

.form-btn.submit {
    background: linear-gradient(135deg, #ff69b4, #ff1493);
    color: white;
}

.form-btn.submit:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(255, 105, 180, 0.3);
}

.floating-actions {
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 1000;
}

.fab-group {
    display: flex;
    flex-direction: column;
    gap: 15px;
    align-items: center;
}

.fab {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    border: none;
    cursor: pointer;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
}

.fab.primary {
    background: linear-gradient(135deg, #ff69b4, #ff1493);
    width: 64px;
    height: 64px;
}

.fab.secondary {
    background: linear-gradient(135deg, #6b7280, #4b5563);
}

.fab:hover {
    transform: scale(1.1);
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2);
}

.fab-icon {
    font-size: 1.5rem;
    font-weight: bold;
}

.fab.secondary .fab-icon {
    font-size: 1.3rem;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
    .controls-container {
        flex-direction: column;
        align-items: stretch;
        gap: 15px;
    }
    
    .filter-group {
        justify-content: space-between;
    }
    
    .search-box {
        margin-left: 0;
        width: 100%;
    }
    
    .search-input {
        width: 100%;
    }
    
    .grid-container {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 20px;
    }
    
    .category-tabs {
        justify-content: flex-start;
    }
    
    .category-tab {
        min-width: 120px;
        padding: 15px 20px;
    }
    
    .form-row {
        grid-template-columns: 1fr;
    }
    
    .form-actions {
        flex-direction: column;
    }
    
    .form-btn {
        width: 100%;
    }
}

@media (max-width: 480px) {
    .overview-stats {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .stat-card {
        flex-direction: column;
        text-align: center;
        gap: 15px;
        padding: 20px;
    }
    
    .stat-icon {
        width: 50px;
        height: 50px;
        font-size: 2rem;
    }
    
    .stat-number {
        font-size: 2rem;
    }
    
    .grid-container {
        grid-template-columns: 1fr;
    }
    
    .photo-controls {
        padding: 15px;
    }
    
    .category-tab {
        min-width: 100px;
        padding: 12px 15px;
    }
    
    .tab-text {
        font-size: 0.9rem;
    }
    
    .photo-info {
        padding: 15px;
    }
    
    .upload-container {
        margin: 10px;
        max-height: 95vh;
    }
    
    .upload-area {
        margin: 20px;
        padding: 30px 20px;
    }
    
    .upload-form {
        padding: 20px;
    }
    
    .floating-actions {
        bottom: 20px;
        right: 20px;
    }
    
    .fab {
        width: 50px;
        height: 50px;
    }
    
    .fab.primary {
        width: 56px;
        height: 56px;
    }
    
    .fab-icon {
        font-size: 1.3rem;
    }
    
    .fab.secondary .fab-icon {
        font-size: 1.1rem;
    }
}
</style>

<script>
// ç…§ç‰‡ç›¸å†Œé¡µé¢JavaScriptåŠŸèƒ½
document.addEventListener('DOMContentLoaded', function() {
    // åˆå§‹åŒ–é¡µé¢
    initPhotosPage();
    
    // ç»‘å®šåˆ†ç±»æ ‡ç­¾äº‹ä»¶
    bindCategoryTabs();
    
    // ç»‘å®šæ§åˆ¶å™¨äº‹ä»¶
    bindPhotoControls();
    
    // ç»‘å®šç…§ç‰‡äº‹ä»¶
    bindPhotoEvents();
    
    // åˆå§‹åŒ–æ‹–æ‹½ä¸Šä¼ 
    initDragUpload();
    
    // æ›´æ–°ç»Ÿè®¡æ•°æ®
    updatePhotoStats();
});

// åˆå§‹åŒ–ç…§ç‰‡é¡µé¢
function initPhotosPage() {
    // è®¾ç½®ç…§ç‰‡é¡¹ç›®çš„å…¥åœºåŠ¨ç”»
    observePhotoItems();
    
    // åˆå§‹åŒ–æ‡’åŠ è½½
    initLazyLoading();
}

// ç»‘å®šåˆ†ç±»æ ‡ç­¾
function bindCategoryTabs() {
    const categoryTabs = document.querySelectorAll('.category-tab');
    const photoItems = document.querySelectorAll('.photo-item');
    
    categoryTabs.forEach(tab => {
        tab.addEventListener('click', function() {
            // æ›´æ–°æ ‡ç­¾çŠ¶æ€
            categoryTabs.forEach(t => t.classList.remove('active'));
            this.classList.add('active');
            
            const category = this.dataset.category;
            
            // è¿‡æ»¤ç…§ç‰‡
            photoItems.forEach(item => {
                if (category === 'all' || item.dataset.category === category) {
                    item.style.display = 'block';
                    item.style.animation = 'fadeInUp 0.5s ease';
                } else {
                    item.style.display = 'none';
                }
            });
        });
    });
}

// ç»‘å®šç…§ç‰‡æ§åˆ¶å™¨
function bindPhotoControls() {
    const timeFilter = document.getElementById('time-filter');
    const sortFilter = document.getElementById('sort-filter');
    const viewButtons = document.querySelectorAll('.view-btn');
    const searchInput = document.getElementById('photo-search');
    
    // æ—¶é—´ç­›é€‰
    if (timeFilter) {
        timeFilter.addEventListener('change', function() {
            applyTimeFilter(this.value);
        });
    }
    
    // æ’åº
    if (sortFilter) {
        sortFilter.addEventListener('change', function() {
            applySorting(this.value);
        });
    }
    
    // è§†å›¾åˆ‡æ¢
    viewButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            viewButtons.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            const view = this.dataset.view;
            switchView(view);
        });
    });
    
    // æœç´¢
    if (searchInput) {
        searchInput.addEventListener('input', function() {
            searchPhotos(this.value);
        });
    }
}

// åº”ç”¨æ—¶é—´ç­›é€‰
function applyTimeFilter(filter) {
    const photoItems = document.querySelectorAll('.photo-item');
    const today = new Date();
    
    photoItems.forEach(item => {
        const photoDate = new Date(item.dataset.date);
        const week = parseInt(item.dataset.week);
        let show = true;
        
        switch(filter) {
            case 'recent':
                const weekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);
                show = photoDate >= weekAgo;
                break;
            case 'month':
                const monthAgo = new Date(today.getTime() - 30 * 24 * 60 * 60 * 1000);
                show = photoDate >= monthAgo;
                break;
            case 'trimester1':
                show = week <= 12;
                break;
            case 'trimester2':
                show = week > 12 && week <= 28;
                break;
            case 'trimester3':
                show = week > 28;
                break;
            default:
                show = true;
        }
        
        item.style.display = show ? 'block' : 'none';
    });
}

// åº”ç”¨æ’åº
function applySorting(sort) {
    const container = document.querySelector('.grid-container');
    const photoItems = Array.from(document.querySelectorAll('.photo-item'));
    
    photoItems.sort((a, b) => {
        switch(sort) {
            case 'newest':
                return new Date(b.dataset.date) - new Date(a.dataset.date);
            case 'oldest':
                return new Date(a.dataset.date) - new Date(b.dataset.date);
            case 'favorites':
                const aFav = a.classList.contains('favorite') ? 1 : 0;
                const bFav = b.classList.contains('favorite') ? 1 : 0;
                return bFav - aFav;
            case 'week':
                return parseInt(a.dataset.week) - parseInt(b.dataset.week);
            default:
                return 0;
        }
    });
    
    // é‡æ–°æ’åˆ—DOMå…ƒç´ 
    photoItems.forEach(item => container.appendChild(item));
}

// åˆ‡æ¢è§†å›¾
function switchView(view) {
    const container = document.querySelector('.grid-container');
    
    container.className = 'grid-container';
    
    switch(view) {
        case 'grid':
            container.classList.add('grid-view');
            break;
        case 'list':
            container.classList.add('list-view');
            break;
        case 'timeline':
            container.classList.add('timeline-view');
            break;
    }
}

// æœç´¢ç…§ç‰‡
function searchPhotos(query) {
    const photoItems = document.querySelectorAll('.photo-item');
    const searchTerm = query.toLowerCase();
    
    photoItems.forEach(item => {
        const title = item.querySelector('.photo-title').textContent.toLowerCase();
        const description = item.querySelector('.photo-description').textContent.toLowerCase();
        const tags = Array.from(item.querySelectorAll('.tag')).map(tag => tag.textContent.toLowerCase()).join(' ');
        
        const matches = title.includes(searchTerm) || 
                       description.includes(searchTerm) || 
                       tags.includes(searchTerm);
        
        item.style.display = matches ? 'block' : 'none';
    });
}

// ç»‘å®šç…§ç‰‡äº‹ä»¶
function bindPhotoEvents() {
    const photoImages = document.querySelectorAll('.photo-image');
    
    photoImages.forEach(img => {
        img.addEventListener('click', function() {
            showPhotoModal(this);
        });
    });
}

// æ˜¾ç¤ºç…§ç‰‡æ¨¡æ€æ¡†
function showPhotoModal(img) {
    const photoItem = img.closest('.photo-item');
    const title = photoItem.querySelector('.photo-title').textContent;
    const description = photoItem.querySelector('.photo-description').textContent;
    const date = photoItem.querySelector('.photo-date').textContent;
    const week = photoItem.dataset.week;
    
    const modal = document.createElement('div');
    modal.className = 'photo-modal';
    modal.innerHTML = `
        <div class="modal-backdrop" onclick="closePhotoModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-info">
                    <h3 class="modal-title">${title}</h3>
                    <div class="modal-meta">
                        <span class="modal-date">${date}</span>
                        <span class="modal-week">å­•${week}å‘¨</span>
                    </div>
                </div>
                <button class="modal-close" onclick="closePhotoModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <img src="${img.src}" alt="${img.alt}" class="modal-image">
                <div class="modal-description">${description}</div>
            </div>
            <div class="modal-actions">
                <button class="modal-btn" onclick="downloadPhoto(this)">
                    <span class="btn-icon">â¬‡ï¸</span>
                    <span class="btn-text">ä¸‹è½½</span>
                </button>
                <button class="modal-btn" onclick="sharePhoto(this)">
                    <span class="btn-icon">ğŸ“¤</span>
                    <span class="btn-text">åˆ†äº«</span>
                </button>
                <button class="modal-btn favorite" onclick="toggleFavorite(this)">
                    <span class="btn-icon">â¤ï¸</span>
                    <span class="btn-text">æ”¶è—</span>
                </button>
            </div>
        </div>
    `;
    
    const style = document.createElement('style');
    style.textContent = `
        .photo-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.9);
            padding: 20px;
        }
        .modal-backdrop {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .modal-content {
            position: relative;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 25px;
            border-bottom: 1px solid #f0f0f0;
        }
        .modal-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin: 0;
        }
        .modal-meta {
            display: flex;
            gap: 15px;
            margin-top: 5px;
        }
        .modal-date, .modal-week {
            font-size: 0.9rem;
            color: #666;
        }
        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #666;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        .modal-close:hover {
            background: #f8f9fa;
            color: #333;
        }
        .modal-body {
            flex: 1;
            overflow-y: auto;
            padding: 0;
        }
        .modal-image {
            width: 100%;
            height: auto;
            display: block;
        }
        .modal-description {
            padding: 20px 25px;
            color: #555;
            line-height: 1.6;
        }
        .modal-actions {
            display: flex;
            gap: 15px;
            padding: 20px 25px;
            border-top: 1px solid #f0f0f0;
            justify-content: center;
        }
        .modal-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #666;
        }
        .modal-btn:hover {
            background: #f8f9fa;
            border-color: #ff69b4;
            color: #ff1493;
        }
        .modal-btn.favorite {
            background: linear-gradient(135deg, #ff69b4, #ff1493);
            color: white;
            border-color: transparent;
        }
        .btn-icon {
            font-size: 1rem;
        }
        .btn-text {
            font-weight: 500;
        }
    `;
    
    document.head.appendChild(style);
    document.body.appendChild(modal);
    
    // æ·»åŠ åŠ¨ç”»
    setTimeout(() => {
        modal.style.opacity = '1';
    }, 10);
}

// å…³é—­ç…§ç‰‡æ¨¡æ€æ¡†
function closePhotoModal() {
    const modal = document.querySelector('.photo-modal');
    if (modal) {
        modal.style.opacity = '0';
        setTimeout(() => {
            modal.remove();
        }, 300);
    }
}

// åˆ‡æ¢æ”¶è—çŠ¶æ€
function toggleFavorite(btn) {
    const photoItem = btn.closest('.photo-item');
    const icon = btn.querySelector('.action-icon');
    
    if (btn.classList.contains('active')) {
        btn.classList.remove('active');
        photoItem.classList.remove('favorite');
        icon.textContent = 'ğŸ¤';
        showNotification('å·²å–æ¶ˆæ”¶è—', 'info');
    } else {
        btn.classList.add('active');
        photoItem.classList.add('favorite');
        icon.textContent = 'â¤ï¸';
        showNotification('å·²æ·»åŠ åˆ°æ”¶è—', 'success');
    }
    
    updatePhotoStats();
}

// åˆ†äº«ç…§ç‰‡
function sharePhoto(btn) {
    const photoItem = btn.closest('.photo-item');
    const title = photoItem.querySelector('.photo-title').textContent;
    const img = photoItem.querySelector('.photo-image');
    
    if (navigator.share) {
        navigator.share({
            title: title,
            text: 'åˆ†äº«æˆ‘çš„å­•æœŸç…§ç‰‡',
            url: img.src
        }).then(() => {
            showNotification('åˆ†äº«æˆåŠŸ', 'success');
        }).catch(() => {
            copyToClipboard(img.src);
        });
    } else {
        copyToClipboard(img.src);
    }
}

// ä¸‹è½½ç…§ç‰‡
function downloadPhoto(btn) {
    const photoItem = btn.closest('.photo-item');
    const img = photoItem.querySelector('.photo-image');
    const title = photoItem.querySelector('.photo-title').textContent;
    
    const link = document.createElement('a');
    link.href = img.src;
    link.download = `${title}.jpg`;
    link.click();
    
    showNotification('ç…§ç‰‡ä¸‹è½½ä¸­...', 'info');
}

// æ˜¾ç¤ºæ”¶è—ç…§ç‰‡
function showFavorites() {
    const categoryTabs = document.querySelectorAll('.category-tab');
    const photoItems = document.querySelectorAll('.photo-item');
    
    // é‡ç½®åˆ†ç±»æ ‡ç­¾
    categoryTabs.forEach(tab => tab.classList.remove('active'));
    
    // åªæ˜¾ç¤ºæ”¶è—çš„ç…§ç‰‡
    photoItems.forEach(item => {
        if (item.classList.contains('favorite')) {
            item.style.display = 'block';
        } else {
            item.style.display = 'none';
        }
    });
    
    showNotification('æ­£åœ¨æ˜¾ç¤ºæ”¶è—ç…§ç‰‡', 'info');
}

// åˆ›å»ºç›¸å†Œ
function createAlbum() {
    const albumName = prompt('è¯·è¾“å…¥ç›¸å†Œåç§°ï¼š');
    if (albumName) {
        showNotification(`ç›¸å†Œ "${albumName}" åˆ›å»ºæˆåŠŸ`, 'success');
    }
}

// æ˜¾ç¤ºä¸Šä¼ ç•Œé¢
function showUpload() {
    const uploadSection = document.getElementById('upload-section');
    uploadSection.style.display = 'flex';
    
    setTimeout(() => {
        uploadSection.style.opacity = '1';
    }, 10);
}

// å…³é—­ä¸Šä¼ ç•Œé¢
function closeUpload() {
    const uploadSection = document.getElementById('upload-section');
    uploadSection.style.opacity = '0';
    
    setTimeout(() => {
        uploadSection.style.display = 'none';
        resetUploadForm();
    }, 300);
}

// é€‰æ‹©ç…§ç‰‡
function selectPhotos() {
    const input = document.getElementById('photo-input');
    input.click();
}

// åˆå§‹åŒ–æ‹–æ‹½ä¸Šä¼ 
function initDragUpload() {
    const uploadArea = document.getElementById('upload-area');
    const photoInput = document.getElementById('photo-input');
    
    if (!uploadArea || !photoInput) return;
    
    // æ‹–æ‹½äº‹ä»¶
    uploadArea.addEventListener('dragover', function(e) {
        e.preventDefault();
        this.classList.add('dragover');
    });
    
    uploadArea.addEventListener('dragleave', function(e) {
        e.preventDefault();
        this.classList.remove('dragover');
    });
    
    uploadArea.addEventListener('drop', function(e) {
        e.preventDefault();
        this.classList.remove('dragover');
        
        const files = e.dataTransfer.files;
        handleFileSelection(files);
    });
    
    // ç‚¹å‡»é€‰æ‹©
    uploadArea.addEventListener('click', selectPhotos);
    
    // æ–‡ä»¶é€‰æ‹©
    photoInput.addEventListener('change', function() {
        handleFileSelection(this.files);
    });
}

// å¤„ç†æ–‡ä»¶é€‰æ‹©
function handleFileSelection(files) {
    if (files.length === 0) return;
    
    const uploadArea = document.getElementById('upload-area');
    const uploadForm = document.getElementById('upload-form');
    
    // éªŒè¯æ–‡ä»¶
    const validFiles = Array.from(files).filter(file => {
        const isImage = file.type.startsWith('image/');
        const isValidSize = file.size <= 10 * 1024 * 1024; // 10MB
        
        if (!isImage) {
            showNotification('è¯·é€‰æ‹©å›¾ç‰‡æ–‡ä»¶', 'error');
            return false;
        }
        
        if (!isValidSize) {
            showNotification('æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡10MB', 'error');
            return false;
        }
        
        return true;
    });
    
    if (validFiles.length > 0) {
        uploadArea.style.display = 'none';
        uploadForm.style.display = 'block';
        
        // é¢„å¡«å……å½“å‰æ—¥æœŸå’Œå­•å‘¨
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('photo-date').value = today;
        
        const currentWeek = calculateCurrentWeek();
        document.getElementById('photo-week').value = currentWeek;
        
        showNotification(`å·²é€‰æ‹© ${validFiles.length} å¼ ç…§ç‰‡`, 'success');
    }
}

// å–æ¶ˆä¸Šä¼ 
function cancelUpload() {
    closeUpload();
}

// æäº¤ç…§ç‰‡
function submitPhoto() {
    const title = document.getElementById('photo-title').value;
    const description = document.getElementById('photo-description').value;
    const date = document.getElementById('photo-date').value;
    const week = document.getElementById('photo-week').value;
    const category = document.getElementById('photo-category').value;
    const tags = document.getElementById('photo-tags').value;
    
    if (!title.trim()) {
        showNotification('è¯·è¾“å…¥ç…§ç‰‡æ ‡é¢˜', 'error');
        return;
    }
    
    if (!date) {
        showNotification('è¯·é€‰æ‹©æ‹æ‘„æ—¥æœŸ', 'error');
        return;
    }
    
    // æ¨¡æ‹Ÿä¸Šä¼ è¿‡ç¨‹
    const submitBtn = document.querySelector('.form-btn.submit');
    const originalText = submitBtn.textContent;
    
    submitBtn.textContent = 'ä¸Šä¼ ä¸­...';
    submitBtn.disabled = true;
    
    setTimeout(() => {
        showNotification('ç…§ç‰‡ä¸Šä¼ æˆåŠŸï¼', 'success');
        closeUpload();
        
        // é‡ç½®æŒ‰é’®
        submitBtn.textContent = originalText;
        submitBtn.disabled = false;
        
        // æ›´æ–°ç»Ÿè®¡
        updatePhotoStats();
    }, 2000);
}

// é‡ç½®ä¸Šä¼ è¡¨å•
function resetUploadForm() {
    const uploadArea = document.getElementById('upload-area');
    const uploadForm = document.getElementById('upload-form');
    const photoInput = document.getElementById('photo-input');
    
    uploadArea.style.display = 'block';
    uploadForm.style.display = 'none';
    
    // æ¸…ç©ºè¡¨å•
    document.getElementById('photo-title').value = '';
    document.getElementById('photo-description').value = '';
    document.getElementById('photo-date').value = '';
    document.getElementById('photo-week').value = '';
    document.getElementById('photo-category').value = 'daily';
    document.getElementById('photo-tags').value = '';
    
    photoInput.value = '';
}

// åŠ è½½æ›´å¤šç…§ç‰‡
function loadMorePhotos() {
    const loadBtn = document.querySelector('.load-more-btn');
    const originalText = loadBtn.querySelector('.load-text').textContent;
    
    loadBtn.querySelector('.load-text').textContent = 'åŠ è½½ä¸­...';
    loadBtn.disabled = true;
    
    setTimeout(() => {
        showNotification('å·²åŠ è½½æ›´å¤šç…§ç‰‡', 'success');
        
        loadBtn.querySelector('.load-text').textContent = originalText;
        loadBtn.disabled = false;
    }, 1500);
}

// æ›´æ–°ç…§ç‰‡ç»Ÿè®¡
function updatePhotoStats() {
    const totalPhotos = document.querySelectorAll('.photo-item').length;
    const favoritePhotos = document.querySelectorAll('.photo-item.favorite').length;
    const categories = new Set();
    const dates = new Set();
    
    document.querySelectorAll('.photo-item').forEach(item => {
        categories.add(item.dataset.category);
        dates.add(item.dataset.date.split('-').slice(0, 2).join('-'));
    });
    
    // æ›´æ–°ç»Ÿè®¡æ•°å­—
    const totalElement = document.getElementById('total-photos');
    const albumsElement = document.getElementById('total-albums');
    const favoriteElement = document.getElementById('favorite-photos');
    const daysElement = document.getElementById('photo-days');
    
    if (totalElement) animateNumber(totalElement, totalPhotos);
    if (albumsElement) animateNumber(albumsElement, categories.size);
    if (favoriteElement) animateNumber(favoriteElement, favoritePhotos);
    if (daysElement) animateNumber(daysElement, dates.size);
}

// æ•°å­—åŠ¨ç”»
function animateNumber(element, target) {
    const start = parseInt(element.textContent) || 0;
    const duration = 1000;
    const startTime = performance.now();
    
    function update(currentTime) {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        
        const current = Math.round(start + (target - start) * progress);
        element.textContent = current;
        
        if (progress < 1) {
            requestAnimationFrame(update);
        }
    }
    
    requestAnimationFrame(update);
}

// è§‚å¯Ÿç…§ç‰‡é¡¹ç›®
function observePhotoItems() {
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, {
        threshold: 0.1,
        rootMargin: '50px'
    });
    
    document.querySelectorAll('.photo-item').forEach(item => {
        item.style.opacity = '0';
        item.style.transform = 'translateY(30px)';
        item.style.transition = 'all 0.6s ease';
        observer.observe(item);
    });
}

// åˆå§‹åŒ–æ‡’åŠ è½½
function initLazyLoading() {
    const imageObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const img = entry.target;
                img.src = img.dataset.src || img.src;
                img.classList.remove('lazy');
                imageObserver.unobserve(img);
            }
        });
    });
    
    document.querySelectorAll('img[loading="lazy"]').forEach(img => {
        imageObserver.observe(img);
    });
}

// è®¡ç®—å½“å‰å­•å‘¨
function calculateCurrentWeek() {
    const pregnancyStart = new Date('2023-08-01'); // ä»é…ç½®ä¸­è·å–
    const today = new Date();
    const diffTime = today - pregnancyStart;
    const diffWeeks = Math.floor(diffTime / (1000 * 60 * 60 * 24 * 7));
    return Math.max(1, Math.min(42, diffWeeks));
}

// å¤åˆ¶åˆ°å‰ªè´´æ¿
function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(() => {
        showNotification('é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿', 'success');
    }).catch(() => {
        showNotification('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶', 'error');
    });
}

// æ˜¾ç¤ºé€šçŸ¥
function showNotification(message, type = 'info') {
    const notification = document.createElement('div');
    notification.className = `notification ${type}`;
    notification.textContent = message;
    
    const style = document.createElement('style');
    style.textContent = `
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 10px;
            color: white;
            font-weight: 500;
            z-index: 10001;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        .notification.success {
            background: linear-gradient(135deg, #10b981, #059669);
        }
        .notification.error {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }
        .notification.info {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
        }
        .notification.show {
            transform: translateX(0);
        }
    `;
    
    if (!document.querySelector('style[data-notification]')) {
        style.setAttribute('data-notification', 'true');
        document.head.appendChild(style);
    }
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.classList.add('show');
    }, 10);
    
    setTimeout(() => {
        notification.classList.remove('show');
        setTimeout(() => {
            notification.remove();
        }, 300);
    }, 3000);
}
</script>